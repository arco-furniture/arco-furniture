"use strict";(self.webpackChunkarco_furniture=self.webpackChunkarco_furniture||[]).push([[67],{3038:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ce}});var o=n(885),r=n(2791),a=n(6701),i="basket-navigation_navigation__w0rH0",l="basket-navigation_wrapper__8xWTx",c="basket-navigation_clear__aciom",s="basket-navigation_title__RunaP",d="basket-navigation_stepper__zbTqm",u="basket-navigation_step__3Gcpq",p=n(3366),v=n(7462),m=n(8182),f=n(8314),b=n(7179),Z=n(6863),h=n(6246),x=n(8137);function S(e){return(0,h.Z)("MuiStepper",e)}(0,x.Z)("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);var L=n(7491),g=r.createContext({});var C=g,j=r.createContext({});var w=j;function R(e){return(0,h.Z)("MuiStepConnector",e)}(0,x.Z)("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);var N=n(184),M=["className"],y=(0,Z.ZP)("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})((function(e){var t=e.ownerState;return(0,v.Z)({flex:"1 1 auto"},"vertical"===t.orientation&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})})),k=(0,Z.ZP)("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:function(e,t){var n=e.ownerState;return[t.line,t["line".concat((0,L.Z)(n.orientation))]]}})((function(e){var t=e.ownerState,n=e.theme,o="light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600];return(0,v.Z)({display:"block",borderColor:n.vars?n.vars.palette.StepConnector.border:o},"horizontal"===t.orientation&&{borderTopStyle:"solid",borderTopWidth:1},"vertical"===t.orientation&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})})),z=r.forwardRef((function(e,t){var n=(0,b.Z)({props:e,name:"MuiStepConnector"}),o=n.className,a=(0,p.Z)(n,M),i=r.useContext(C),l=i.alternativeLabel,c=i.orientation,s=void 0===c?"horizontal":c,d=r.useContext(w),u=d.active,Z=d.disabled,h=d.completed,x=(0,v.Z)({},n,{alternativeLabel:l,orientation:s,active:u,completed:h,disabled:Z}),S=function(e){var t=e.classes,n=e.orientation,o={root:["root",n,e.alternativeLabel&&"alternativeLabel",e.active&&"active",e.completed&&"completed",e.disabled&&"disabled"],line:["line","line".concat((0,L.Z)(n))]};return(0,f.Z)(o,R,t)}(x);return(0,N.jsx)(y,(0,v.Z)({className:(0,m.Z)(S.root,o),ref:t,ownerState:x},a,{children:(0,N.jsx)(k,{className:S.line,ownerState:x})}))})),_=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],P=(0,Z.ZP)("div",{name:"MuiStepper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel]}})((function(e){var t=e.ownerState;return(0,v.Z)({display:"flex"},"horizontal"===t.orientation&&{flexDirection:"row",alignItems:"center"},"vertical"===t.orientation&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})})),I=(0,N.jsx)(z,{}),B=r.forwardRef((function(e,t){var n=(0,b.Z)({props:e,name:"MuiStepper"}),o=n.activeStep,a=void 0===o?0:o,i=n.alternativeLabel,l=void 0!==i&&i,c=n.children,s=n.className,d=n.component,u=void 0===d?"div":d,Z=n.connector,h=void 0===Z?I:Z,x=n.nonLinear,L=void 0!==x&&x,g=n.orientation,j=void 0===g?"horizontal":g,w=(0,p.Z)(n,_),R=(0,v.Z)({},n,{alternativeLabel:l,orientation:j,component:u}),M=function(e){var t=e.orientation,n=e.alternativeLabel,o=e.classes,r={root:["root",t,n&&"alternativeLabel"]};return(0,f.Z)(r,S,o)}(R),y=r.Children.toArray(c).filter(Boolean),k=y.map((function(e,t){return r.cloneElement(e,(0,v.Z)({index:t,last:t+1===y.length},e.props))})),z=r.useMemo((function(){return{activeStep:a,alternativeLabel:l,connector:h,nonLinear:L,orientation:j}}),[a,l,h,L,j]);return(0,N.jsx)(C.Provider,{value:z,children:(0,N.jsx)(P,(0,v.Z)({as:u,ownerState:R,className:(0,m.Z)(M.root,s),ref:t},w,{children:k}))})}));function E(e){return(0,h.Z)("MuiStep",e)}(0,x.Z)("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);var T=["active","children","className","component","completed","disabled","expanded","index","last"],A=(0,Z.ZP)("div",{name:"MuiStep",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})((function(e){var t=e.ownerState;return(0,v.Z)({},"horizontal"===t.orientation&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})})),W=r.forwardRef((function(e,t){var n=(0,b.Z)({props:e,name:"MuiStep"}),o=n.active,a=n.children,i=n.className,l=n.component,c=void 0===l?"div":l,s=n.completed,d=n.disabled,u=n.expanded,Z=void 0!==u&&u,h=n.index,x=n.last,S=(0,p.Z)(n,T),L=r.useContext(C),g=L.activeStep,j=L.connector,R=L.alternativeLabel,M=L.orientation,y=L.nonLinear,k=void 0!==o&&o,z=void 0!==s&&s,_=void 0!==d&&d;g===h?k=void 0===o||o:!y&&g>h?z=void 0===s||s:!y&&g<h&&(_=void 0===d||d);var P=r.useMemo((function(){return{index:h,last:x,expanded:Z,icon:h+1,active:k,completed:z,disabled:_}}),[h,x,Z,k,z,_]),I=(0,v.Z)({},n,{active:k,orientation:M,alternativeLabel:R,completed:z,disabled:_,expanded:Z,component:c}),B=function(e){var t=e.classes,n={root:["root",e.orientation,e.alternativeLabel&&"alternativeLabel",e.completed&&"completed"]};return(0,f.Z)(n,E,t)}(I),W=(0,N.jsxs)(A,(0,v.Z)({as:c,className:(0,m.Z)(B.root,i),ref:t,ownerState:I},S,{children:[j&&R&&0!==h?j:null,a]}));return(0,N.jsx)(w.Provider,{value:P,children:j&&!R&&0!==h?(0,N.jsxs)(r.Fragment,{children:[j,W]}):W})})),q=n(4942),D=n(2842),F=n(233),H=(0,F.Z)((0,N.jsx)("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),V=(0,F.Z)((0,N.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning"),G=n(5618);function K(e){return(0,h.Z)("MuiStepIcon",e)}var O,Q=(0,x.Z)("MuiStepIcon",["root","active","completed","error","text"]),U=["active","className","completed","error","icon"],J=(0,Z.ZP)(G.Z,{name:"MuiStepIcon",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme;return t={display:"block",transition:n.transitions.create("color",{duration:n.transitions.duration.shortest}),color:(n.vars||n).palette.text.disabled},(0,q.Z)(t,"&.".concat(Q.completed),{color:(n.vars||n).palette.primary.main}),(0,q.Z)(t,"&.".concat(Q.active),{color:(n.vars||n).palette.primary.main}),(0,q.Z)(t,"&.".concat(Q.error),{color:(n.vars||n).palette.error.main}),t})),X=(0,Z.ZP)("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:function(e,t){return t.text}})((function(e){var t=e.theme;return{fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}})),Y=r.forwardRef((function(e,t){var n=(0,b.Z)({props:e,name:"MuiStepIcon"}),o=n.active,r=void 0!==o&&o,a=n.className,i=n.completed,l=void 0!==i&&i,c=n.error,s=void 0!==c&&c,d=n.icon,u=(0,p.Z)(n,U),Z=(0,v.Z)({},n,{active:r,completed:l,error:s}),h=function(e){var t=e.classes,n={root:["root",e.active&&"active",e.completed&&"completed",e.error&&"error"],text:["text"]};return(0,f.Z)(n,K,t)}(Z);if("number"===typeof d||"string"===typeof d){var x=(0,m.Z)(a,h.root);return s?(0,N.jsx)(J,(0,v.Z)({as:V,className:x,ref:t,ownerState:Z},u)):l?(0,N.jsx)(J,(0,v.Z)({as:H,className:x,ref:t,ownerState:Z},u)):(0,N.jsxs)(J,(0,v.Z)({className:x,ref:t,ownerState:Z},u,{children:[O||(O=(0,N.jsx)("circle",{cx:"12",cy:"12",r:"12"})),(0,N.jsx)(X,{className:h.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:Z,children:d})]}))}return d}));function $(e){return(0,h.Z)("MuiStepLabel",e)}var ee=(0,x.Z)("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),te=["children","className","componentsProps","error","icon","optional","StepIconComponent","StepIconProps"],ne=(0,Z.ZP)("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation]]}})((function(e){var t,n=e.ownerState;return(0,v.Z)((t={display:"flex",alignItems:"center"},(0,q.Z)(t,"&.".concat(ee.alternativeLabel),{flexDirection:"column"}),(0,q.Z)(t,"&.".concat(ee.disabled),{cursor:"default"}),t),"vertical"===n.orientation&&{textAlign:"left",padding:"8px 0"})})),oe=(0,Z.ZP)("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:function(e,t){return t.label}})((function(e){var t,n=e.theme;return(0,v.Z)({},n.typography.body2,(t={display:"block",transition:n.transitions.create("color",{duration:n.transitions.duration.shortest})},(0,q.Z)(t,"&.".concat(ee.active),{color:(n.vars||n).palette.text.primary,fontWeight:500}),(0,q.Z)(t,"&.".concat(ee.completed),{color:(n.vars||n).palette.text.primary,fontWeight:500}),(0,q.Z)(t,"&.".concat(ee.alternativeLabel),{textAlign:"center",marginTop:16}),(0,q.Z)(t,"&.".concat(ee.error),{color:(n.vars||n).palette.error.main}),t))})),re=(0,Z.ZP)("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:function(e,t){return t.iconContainer}})((function(){return(0,q.Z)({flexShrink:0,display:"flex",paddingRight:8},"&.".concat(ee.alternativeLabel),{paddingRight:0})})),ae=(0,Z.ZP)("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:function(e,t){return t.labelContainer}})((function(e){var t=e.theme;return{width:"100%",color:(t.vars||t).palette.text.secondary}})),ie=r.forwardRef((function(e,t){var n=(0,b.Z)({props:e,name:"MuiStepLabel"}),o=n.children,a=n.className,i=n.componentsProps,l=void 0===i?{}:i,c=n.error,s=void 0!==c&&c,d=n.icon,u=n.optional,Z=n.StepIconComponent,h=n.StepIconProps,x=(0,p.Z)(n,te),S=r.useContext(C),L=S.alternativeLabel,g=S.orientation,j=r.useContext(w),R=j.active,M=j.disabled,y=j.completed,k=j.icon,z=d||k,_=Z;z&&!_&&(_=Y);var P=(0,v.Z)({},n,{active:R,alternativeLabel:L,completed:y,disabled:M,error:s,orientation:g}),I=function(e){var t=e.classes,n=e.orientation,o=e.active,r=e.completed,a=e.error,i=e.disabled,l=e.alternativeLabel,c={root:["root",n,a&&"error",i&&"disabled",l&&"alternativeLabel"],label:["label",o&&"active",r&&"completed",a&&"error",i&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",o&&"active",r&&"completed",a&&"error",i&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer"]};return(0,f.Z)(c,$,t)}(P);return(0,N.jsxs)(ne,(0,v.Z)({className:(0,m.Z)(I.root,a),ref:t,ownerState:P},x,{children:[z||_?(0,N.jsx)(re,{className:I.iconContainer,ownerState:P,children:(0,N.jsx)(_,(0,v.Z)({completed:y,active:R,error:s,icon:z},h))}):null,(0,N.jsxs)(ae,{className:I.labelContainer,ownerState:P,children:[o?(0,N.jsx)(oe,(0,v.Z)({className:I.label,ownerState:P},l.label,{children:o})):null,u]})]}))}));ie.muiName="StepLabel";var le=ie,ce=n(6359);function se(e){return(0,h.Z)("MuiStepButton",e)}var de=(0,x.Z)("MuiStepButton",["root","horizontal","vertical","touchRipple"]),ue=["children","className","icon","optional"],pe=(0,Z.ZP)(D.Z,{name:"MuiStepButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,q.Z)({},"& .".concat(de.touchRipple),t.touchRipple),t.root,t[n.orientation]]}})((function(e){var t=e.ownerState;return(0,v.Z)({width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},"vertical"===t.orientation&&{justifyContent:"flex-start",padding:"8px",margin:"-8px"},(0,q.Z)({},"& .".concat(de.touchRipple),{color:"rgba(0, 0, 0, 0.3)"}))})),ve=r.forwardRef((function(e,t){var n=(0,b.Z)({props:e,name:"MuiStepButton"}),o=n.children,a=n.className,i=n.icon,l=n.optional,c=(0,p.Z)(n,ue),s=r.useContext(w).disabled,d=r.useContext(C).orientation,u=(0,v.Z)({},n,{orientation:d}),Z=function(e){var t=e.classes,n={root:["root",e.orientation],touchRipple:["touchRipple"]};return(0,f.Z)(n,se,t)}(u),h={icon:i,optional:l},x=(0,ce.Z)(o,["StepLabel"])?r.cloneElement(o,h):(0,N.jsx)(le,(0,v.Z)({},h,{children:o}));return(0,N.jsx)(pe,(0,v.Z)({focusRipple:!0,disabled:s,TouchRippleProps:{className:Z.touchRipple},className:(0,m.Z)(Z.root,a),ref:t,ownerState:u},c,{children:x}))})),me=n(3811),fe=n(5389),be=n(3981),Ze=n(2601),he=n(495),xe=n(1933),Se=n(1472),Le=function(e){var t=e.activeStep,n=["\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430","\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u041e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"],a=(0,r.useState)({}),p=(0,o.Z)(a,2),v=p[0],m=(p[1],(0,fe.o)()),f=m.clearBasketItems,b=m.setClearBasketState,Z=(0,r.useState)(null),h=(0,o.Z)(Z,2),x=h[0],S=h[1],L=(0,r.useState)(null),g=(0,o.Z)(L,2),C=g[0],j=g[1],w=(0,r.useState)(1),R=(0,o.Z)(w,2),M=R[0],y=R[1],k=(0,r.useRef)(!1),z=(0,r.useState)(!1),_=(0,o.Z)(z,2),P=_[0],I=_[1],E=(0,be.aC)().user,T=(0,fe.o)().setUser,A=(0,xe.useQuery)("change stage basket",(function(){return Se.v.changeStage(M).then((function(e){return T(e)}))}),{enabled:!1}).refetch;(0,r.useEffect)((function(){k.current&&(A(),k.current=!1)}),[P]);return(0,N.jsxs)("div",{className:i,children:[(0,N.jsxs)("div",{className:l,children:[(0,N.jsx)("h2",{className:s,children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,N.jsx)(B,{activeStep:t,className:d,children:n.map((function(e,n){return(0,N.jsx)(W,{completed:v[n],children:(0,N.jsx)(ve,{className:u,disabled:t<=n,onClick:function(e){return function(e,t){y(t),j(e)}(e,n)},children:e})},e)}))})]}),(0,N.jsx)(me.Z,{"aria-label":"fingerprint",color:"error",className:c,onClick:function(e){S(e.currentTarget)},children:(0,N.jsx)(Ze.Z,{})}),(0,N.jsx)(he.Z,{anchorEl:C,setAnchorEl:j,handleAccept:function(){I(!P),k.current=!0},question:'\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u044e "'.concat(n[M],'"?\n         \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0441 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445 \u0441\u0442\u0430\u0434\u0438\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430.')}),(0,N.jsx)(he.Z,{anchorEl:x,setAnchorEl:S,handleAccept:function(){E?f():(b(),localStorage.removeItem("items"))},question:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443?"})]})},ge=n(7689),Ce=function(){var e=(0,be.Kc)().dataBasketItems,t=(0,ge.s0)(),n=(0,be.aC)().user,i=(0,r.useState)(!0),l=(0,o.Z)(i,2),c=l[0],s=l[1],d=(0,r.useState)(!1),u=(0,o.Z)(d,2),p=u[0],v=u[1],m=(0,r.useState)(!1),f=(0,o.Z)(m,2),b=f[0],Z=f[1],h=(0,r.useState)(0),x=(0,o.Z)(h,2),S=x[0],L=x[1];return e.length||t("/"),(0,r.useEffect)((function(){var e,t,o,r,a;s(!n||!(null!==n&&void 0!==n&&null!==(e=n.steps)&&void 0!==e&&e.info)),Z(!(null===n||void 0===n||null===(t=n.steps)||void 0===t||!t.info)&&!(null!==n&&void 0!==n&&null!==(o=n.steps)&&void 0!==o&&o.form)),v(!(null===n||void 0===n||null===(r=n.steps)||void 0===r||!r.info)&&!(null===n||void 0===n||null===(a=n.steps)||void 0===a||!a.form))}),[n]),(0,r.useEffect)((function(){L([c,b,p].indexOf(!0))}),[c,b,p]),(0,N.jsxs)("section",{className:"basket",children:[(0,N.jsx)(Le,{activeStep:S}),c&&(0,N.jsx)(a.VI,{}),b&&(0,N.jsx)(a.ah,{}),p&&(0,N.jsx)(a.ui,{})]})}}}]);
//# sourceMappingURL=Basket.cda014fe.chunk.js.map