"use strict";(self.webpackChunkarco_furniture=self.webpackChunkarco_furniture||[]).push([[275],{5301:function(e,r,s){s.r(r),s.d(r,{default:function(){return q}});var t=s(9439),n=s(390),c=s(5545),i=s(4514),a=s(1413),o=s(24),l=s(9615),u=s(2721),d=s(3020),p=s(5019),m=s(6649),x=s(2717),_=s(2559),f=(0,x.Z)((0,_.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined"),h=s(1342),j=s(5728),v=s(1662),N=s(4663),g=s(7108),w=s(855),b=s(3781),C=s(5541),k=function(e){var r=e.product,s=(0,n.useState)(!1),c=(0,t.Z)(s,2),i=c[0],x=c[1],k=(0,l.iB)().currentColor,Z=(0,w.m)().favorites,y=(0,u.o)(),S=y.addItemForBasket,I=y.openAlertBar,B=y.setCurrentColor,E=y.setItemIsLiked,R=Z.some((function(e){return e._id===r._id})),O=o.DM.map((function(e){var s,t=null===(s=r.colors)||void 0===s?void 0:s.some((function(r){return r.nameColor===e.nameColor}));return{nameColor:e.nameColor,color:e.color,exist:t}}));(0,n.useEffect)((function(){R&&x(!0)}),[]),(0,n.useEffect)((function(){if(Object.keys(r).length){var e=O.find((function(e){return e.exist})),s=O.indexOf(e);B((0,a.Z)({index:s},e))}}),[r]);var z=function(){return(0,_.jsx)(d.Z,{label:"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438",color:"success",variant:"filled"})},A=function(){return(0,_.jsx)(d.Z,{label:"\u041f\u043e\u0434 \u0437\u0430\u043a\u0430\u0437",color:"error",variant:"filled"})};return(0,_.jsxs)("div",{className:"product__params panel",children:[(0,_.jsxs)("div",{className:"product__top-wrapper",children:[(0,_.jsx)("h2",{children:(0,C.W)(r)}),k.exist?(0,_.jsx)(z,{}):(0,_.jsx)(A,{})]}),(0,_.jsxs)("div",{className:"product__price-wrapper",children:[(0,_.jsxs)("p",{className:"product__old-price",children:[(0,_.jsx)("span",{className:"old-price",children:(0,v.F)(r.oldPrice)})," \u20bd"]}),(0,_.jsxs)("em",{className:"product__price",children:[(0,v.F)(r.price)," \u20bd"]})]}),(0,_.jsxs)("div",{className:"product__colors",children:[(0,_.jsx)("h3",{className:"product__title",children:"\u0426\u0432\u0435\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f:"}),(0,_.jsx)("ul",{children:O.map((function(e,r){var s,t=k.index===r;return(0,_.jsxs)("li",{children:[(0,_.jsx)("span",{className:"product__light ".concat(t?"product__light_active":"product__light_disabled"),style:{border:"3px solid ".concat(t?"#4675CE":"#fff")}}),(0,_.jsx)(p.Z,{onClick:function(){return B({index:r,color:e.color,nameColor:e.nameColor,exist:e.exist})},style:(s=e,{borderRadius:"5px",backgroundColor:s.color,transition:"transform ease-in-out 0.1s"}),variant:"contained",children:!e.exist&&(0,_.jsx)(f,{className:"product__closeIcon"})})]},r)}))}),!k.exist&&(0,_.jsx)("p",{className:"product__text-error",children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430 \u043d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"})]}),(0,_.jsx)("div",{className:"product__description",children:(0,_.jsxs)("p",{children:[(0,_.jsx)("span",{className:"product__title",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "}),r.description]})}),(0,_.jsxs)("div",{className:"product__buttons",children:[(0,_.jsx)(p.Z,{disabled:!k.exist,style:{fontSize:"18px",fontWeight:700},className:"product__submit",size:"large",type:"submit",variant:"contained",onClick:function(){I({message:r.title,type:"cart"});var e=(0,g.P)(r,k.color);S(e)},children:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),(0,_.jsx)(N.Bj,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",placement:"top-start",children:(0,_.jsx)(m.Z,{className:"product__favorite",size:"large",color:"error",onClick:function(){return(0,b.l)({isFavorite:R,item:r}),x(!i),E(),void I({message:r.title,type:"favorite"})},children:i?(0,_.jsx)(h.Z,{}):(0,_.jsx)(j.Z,{})})})]})]})},Z=(0,n.memo)(k),y=function(e){var r=e.specs;return(0,_.jsxs)("li",{className:"product__specs panel",children:[(0,_.jsx)("h3",{className:"subtitle",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),(0,_.jsxs)("div",{className:"product__specs-wrapper",children:[(0,_.jsx)("ul",{children:null===o.Ak||void 0===o.Ak?void 0:o.Ak.map((function(e){return(0,_.jsx)("li",{children:"".concat(e.name,":")},e.specsNameId)}))}),(0,_.jsx)("ul",{children:null===r||void 0===r?void 0:r.map((function(e,r){return(0,_.jsx)("li",{children:Object.values(e)},r)}))})]})]})},S=(0,n.memo)(y),I=s(7189),B=s(8698),E=function(e){var r=e.setThumbsSwiper,s=e.images,t=null===s||void 0===s?void 0:s.map((function(e,r){return(0,_.jsx)(I.o5,{children:(0,_.jsxs)("div",{className:"product__nav",children:[(0,_.jsx)("span",{className:"product__background"}),(0,_.jsx)("img",{className:"product__nav-preview",src:e.image,alt:"slide"})]})},r)}));return(0,_.jsx)("li",{className:"product__slides",children:(0,_.jsx)("div",{className:"product__slides-wrapper",children:(0,_.jsx)(I.tq,{onSwiper:r,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[B.o3],className:"mySwiper",children:t})})})},R=(0,n.memo)(E),O=function(e){var r=e.thumbsSwiper,s=e.images,t=(0,n.useRef)(null),c=(0,n.useRef)(null),i=null===s||void 0===s?void 0:s.map((function(e,r){return(0,_.jsx)(I.o5,{children:(0,_.jsx)("img",{className:"product__image-preview",src:e.image,alt:"image"})},r)}));return(0,_.jsxs)("li",{className:"product__preview",children:[(0,_.jsx)(I.tq,{loop:!0,spaceBetween:40,thumbs:{swiper:r&&!r.destroyed?r:null},modules:[B.Rv,B.W_,B.o3],navigation:{prevEl:c.current,nextEl:t.current},onBeforeInit:function(e){e.params.navigation.prevEl=c.current,e.params.navigation.nextEl=t.current},children:i}),(0,_.jsx)(N.y5,{prevRef:c,nextRef:t,widthValue:105})]})},z=(0,n.memo)(O),A=s(4165),F=s(5861),P=s(228),M=s(7632),T=function(e){return(0,F.Z)((0,A.Z)().mark((function r(){var s,t;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M.v.get("".concat(P.T5).concat((0,P.$h)("/".concat(e))));case 2:return s=r.sent,t=s.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})))()},W=function(){var e=(0,n.useState)(null),r=(0,t.Z)(e,2),s=r[0],a=r[1],o=(0,c.UO)().productId,l=(0,i.useQuery)("get product",(function(){return T(o)})),u=l.data;return l.isSuccess&&(0,_.jsx)("section",{className:"product",children:(0,_.jsxs)("ul",{className:"product__wrapper",children:[(0,_.jsx)(z,{thumbsSwiper:s,images:u.productImages}),(0,_.jsx)(Z,{product:u}),(0,_.jsx)(R,{setThumbsSwiper:a,images:u.productImages}),(0,_.jsx)(S,{specs:u.specs})]})})},q=(0,n.memo)(W)}}]);
//# sourceMappingURL=Product.62281b74.chunk.js.map